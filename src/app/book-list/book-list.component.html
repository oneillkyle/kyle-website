<mat-card>
  <mat-card-header>
    <mat-card-title>Reading List</mat-card-title>

    <mat-card-subtitle>Books read starting 2019</mat-card-subtitle>
  </mat-card-header>

  <mat-card-content>
    <mat-list>
      <mat-list-item *ngFor="let book of (books | async)">
        <mat-icon mat-list-icon *ngIf="user?.admin" (click)="openDialog(book)">edit</mat-icon>
        <h4 mat-line>
          <img *ngIf="book.image" [src]="book.image" alt="Book photo" style="height: 40px; width: 40px;">
          <a [href]="book.purchaseLink" target="_blank">
            {{ book.title }} - {{ book.author }}
          </a>
        </h4>
        <p mat-line>
          <app-star-rating [score]="book.rating" [forDisplay]="true" maxScore="5"></app-star-rating>
        </p>
        <p mat-line>Finished {{ book.date | date }}</p>
        <p mat-line>Format: {{ book.audio ? 'Audio' : 'Text' }}</p>
        <p mat-line *ngIf="book.reviewLink"><a [routerLink]="book.reviewLink">Review</a></p>
      </mat-list-item>
    </mat-list>
  </mat-card-content>
  <mat-card-actions *ngIf="user?.admin">
    <button mat-button *ngIf="user?.admin" type="button" (click)="openDialog({})">Add Book</button>
  </mat-card-actions>
</mat-card>


<!-- <app-book-edit></app-book-edit> -->